from flask import Flask, request, render_template, jsonify
import pickle
from flask_cors import CORS, cross_origin

# Create an instance of the Flask class
# With the name of the applicationâ€™s modules
# This way Flask knows where to look for templates, static files, etc.
app = Flask(__name__, template_folder='templates')
cors = CORS(app)
app.config['CORS_HEADERS'] = 'Content-Type'


# Create the /predict API route
@app.route('/predict', methods=['GET', 'POST'])
@cross_origin()
def predict():
    # Use pickle to load in the pre-trained model
    with open(f'Model_Saved_Final.pkl', 'rb') as f:
        clf = pickle.load(f)
    
    # Get the message from the API request (message parameter)
    PhoneAccelX = request.args.get('PhoneAccelX')
    PhoneAccelY = request.args.get('PhoneAccelY')
    PhoneAccelZ = request.args.get('PhoneAccelZ')
    PhoneGyroX = request.args.get('PhoneGyroX')
    PhoneGyroY = request.args.get('PhoneGyroY')
    PhoneGyroZ = request.args.get('PhoneGyroZ')
    PhoneMagX = request.args.get('PhoneMagX')
    PhoneMagY = request.args.get('PhoneMagY')
    PhoneMagZ = request.args.get('PhoneMagZ')

    WatchAccelX = request.args.get('WatchAccelX')
    WatchAccelY = request.args.get('WatchAccelY')
    WatchAccelZ = request.args.get('WatchAccelZ')
    WatchGyroX = request.args.get('WatchGyroX')
    WatchGyroY = request.args.get('WatchGyroY')
    WatchGyroZ = request.args.get('WatchGyroZ')
    WatchMagX = request.args.get('WatchMagX')
    WatchMagY = request.args.get('WatchMagY')
    WatchMagZ = request.args.get('WatchMagZ')



    # #PhoneAccelX = "-0.64,-0.70,-0.72,-0.71,-0.68,-0.65,-0.65,-0.63,-0.97,-1.12,-0.31,-0.24,0.02,-0.40,-1.16,-1.01,-0.84,-0.88,-0.82,-0.68,-0.70,-0.85,-0.97,-0.98,-0.94,-0.90,-0.81,-0.65,-0.51,-0.34,-0.17,-0.08,0.04,0.07,-0.07,-0.29,-0.35,-0.30,-0.37,-0.59,-0.77,-0.82,-0.83,-0.77,-0.69,-0.58,-0.45,-0.33,-0.37,-0.53,-0.65,-0.67,-0.63,-0.56,-0.46,-0.41,-0.44,-0.48,-0.52,-0.55,-0.58,-0.61,-0.65,-0.71,-0.78,-0.82,-0.81,-0.78,-0.74,-0.69,-0.67,-0.70,-0.69,-0.63,-0.55,-0.48,-0.45,-0.43,-0.43,-0.43,-0.43,-0.41,-0.41,-0.43,-0.45,-0.46,-0.45,-0.41,-0.39,-0.38,-0.35,-0.30,-0.25,-0.21,-0.17,-0.12,-0.00,-0.00,-0.08,-0.14,-0.10,-0.01,-0.05,-0.12,-0.10,-0.04,-0.05,-0.11,-0.16,-0.17,-0.17,-0.13,-0.04,0.02,0.05,0.02,-0.05,-0.14,-0.30,-0.47,-0.65,-0.71,-0.69,-0.73,-0.81,-0.84,-0.89,-0.98,-1.08,-1.16,-1.18,-1.14,-1.13,-1.22,-1.39,-1.43,-1.44,-1.49,-1.39,-1.30,-1.28,-1.30,-1.34,-1.35,-1.30,-1.16,-1.08,-1.10,-1.11,-1.10,-1.03,-0.96,-0.97,-1.07,-1.11,-1.06,-1.00,-0.92,-0.87,-0.83,-0.85,-0.84,-0.83,-0.80,-0.83,-0.86,-0.83,-0.81,-0.73,-0.67,-0.69,-0.74,-0.78,-0.79,-0.78,-0.77,-0.73,-0.70,-0.72,-0.78,-0.84,-0.80,-0.68,-0.60,-0.60,-0.65,-0.72,-0.76,-0.75,-0.69,-0.64,-0.60,-0.56,-0.57,-0.61,-0.61,-0.55,-0.51,-0.52,-0.54,-0.60,-0.65,-0.66,-0.63,-0.63,-0.75,-0.87,-0.54,-0.76,-0.55"
    # PhoneAccelY = "-0.26,-0.26,-0.29,-0.36,-0.43,-0.46,-0.43,-0.35,-0.36,-0.30,-0.16,-0.46,-0.69,-0.77,-0.50,-0.13,-0.21,-0.61,-0.95,-1.12,-1.16,-1.07,-0.83,-0.53,-0.36,-0.37,-0.38,-0.33,-0.33,-0.36,-0.41,-0.48,-0.56,-0.64,-0.63,-0.49,-0.32,-0.34,-0.52,-0.69,-0.76,-0.69,-0.56,-0.44,-0.40,-0.42,-0.48,-0.58,-0.72,-0.84,-0.87,-0.78,-0.66,-0.58,-0.56,-0.61,-0.70,-0.76,-0.78,-0.75,-0.70,-0.67,-0.65,-0.64,-0.60,-0.54,-0.47,-0.44,-0.49,-0.61,-0.74,-0.81,-0.80,-0.71,-0.62,-0.58,-0.59,-0.63,-0.65,-0.64,-0.58,-0.49,-0.43,-0.40,-0.37,-0.33,-0.28,-0.20,-0.14,-0.09,-0.06,-0.03,0.01,0.06,0.11,0.16,0.21,0.27,0.29,0.27,0.24,0.20,0.18,0.09,-0.02,-0.04,0.01,0.10,0.18,0.24,0.24,0.19,0.09,-0.03,-0.12,-0.16,-0.12,-0.05,0.04,0.14,0.18,0.12,-0.05,-0.18,-0.23,-0.25,-0.26,-0.31,-0.27,-0.20,-0.21,-0.27,-0.27,-0.22,-0.19,-0.12,-0.12,-0.23,-0.29,-0.31,-0.34,-0.33,-0.31,-0.37,-0.45,-0.47,-0.46,-0.36,-0.21,-0.21,-0.30,-0.37,-0.42,-0.45,-0.41,-0.37,-0.33,-0.29,-0.22,-0.17,-0.16,-0.18,-0.20,-0.23,-0.27,-0.27,-0.20,-0.16,-0.17,-0.24,-0.35,-0.41,-0.41,-0.37,-0.36,-0.37,-0.41,-0.45,-0.50,-0.51,-0.44,-0.33,-0.29,-0.34,-0.41,-0.45,-0.45,-0.42,-0.38,-0.35,-0.37,-0.42,-0.47,-0.51,-0.51,-0.47,-0.43,-0.45,-0.51,-0.58,-0.64,-0.65,-0.61,-0.55,-0.58,-0.68,-0.81,-0.77,-0.78,-0.65"
    # PhoneAccelZ = "0.45,0.55,0.66,0.70,0.68,0.60,0.53,0.59,0.51,0.48,0.85,0.69,0.79,0.69,0.42,0.46,0.47,0.55,0.69,0.78,0.69,0.58,0.66,0.94,1.24,1.37,1.31,1.16,0.97,0.80,0.73,0.77,0.83,0.75,0.53,0.37,0.41,0.52,0.56,0.56,0.59,0.66,0.70,0.71,0.66,0.59,0.56,0.59,0.62,0.64,0.66,0.65,0.60,0.56,0.56,0.58,0.58,0.55,0.54,0.56,0.60,0.67,0.74,0.80,0.84,0.86,0.89,0.90,0.93,0.96,1.00,0.99,0.95,0.89,0.85,0.80,0.71,0.60,0.51,0.47,0.48,0.56,0.66,0.78,0.89,0.97,1.03,1.10,1.18,1.23,1.23,1.22,1.21,1.20,1.22,1.29,1.42,1.42,1.38,1.40,1.43,1.45,1.36,1.22,1.05,0.83,0.65,0.52,0.41,0.27,0.11,-0.06,-0.25,-0.46,-0.64,-0.76,-0.77,-0.72,-0.64,-0.59,-0.53,-0.45,-0.38,-0.37,-0.31,-0.19,-0.08,0.02,0.08,0.15,0.26,0.37,0.42,0.46,0.53,0.64,0.68,0.67,0.64,0.58,0.54,0.48,0.41,0.38,0.35,0.35,0.31,0.26,0.21,0.18,0.17,0.15,0.12,0.10,0.14,0.17,0.18,0.19,0.20,0.24,0.34,0.47,0.59,0.66,0.66,0.67,0.71,0.75,0.78,0.75,0.70,0.66,0.64,0.65,0.67,0.66,0.64,0.60,0.54,0.50,0.55,0.66,0.74,0.75,0.67,0.61,0.59,0.61,0.64,0.65,0.60,0.53,0.47,0.44,0.45,0.50,0.55,0.57,0.58,0.59,0.59,0.61,0.65,0.71,0.76,0.72,0.58,0.65,0.47,0.44"

    # PhoneGyroX = "0.80,0.76,0.67,0.57,0.52,0.51,0.48,0.53,0.57,0.41,0.46,0.42,0.49,0.62,0.68,0.83,0.98,0.97,0.85,0.73,0.78,0.93,1.01,1.09,1.22,1.28,1.24,1.14,1.09,1.10,1.05,0.96,0.97,1.02,0.97,0.77,0.61,0.61,0.70,0.80,0.81,0.73,0.62,0.56,0.59,0.67,0.77,0.86,0.90,0.90,0.86,0.86,0.89,0.90,0.89,0.88,0.87,0.89,0.93,0.97,1.01,1.05,1.06,1.04,0.99,0.90,0.75,0.58,0.41,0.28,0.23,0.29,0.38,0.41,0.37,0.31,0.25,0.19,0.11,-0.00,-0.16,-0.36,-0.57,-0.76,-0.89,-0.98,-1.07,-1.20,-1.38,-1.55,-1.74,-1.94,-2.17,-2.42,-2.69,-2.93,-3.01,-3.05,-3.22,-3.49,-3.64,-3.62,-3.72,-3.93,-4.00,-3.94,-3.82,-3.69,-3.55,-3.42,-3.32,-3.24,-3.11,-2.95,-2.78,-2.63,-2.49,-2.37,-2.21,-1.98,-1.76,-1.60,-1.42,-1.22,-1.11,-1.04,-0.88,-0.76,-0.74,-0.76,-0.74,-0.71,-0.73,-0.76,-0.79,-0.80,-0.75,-0.72,-0.72,-0.70,-0.61,-0.48,-0.38,-0.34,-0.31,-0.28,-0.22,-0.11,0.04,0.16,0.25,0.36,0.49,0.52,0.50,0.48,0.48,0.51,0.55,0.55,0.48,0.38,0.28,0.21,0.16,0.14,0.14,0.12,0.12,0.15,0.17,0.17,0.17,0.20,0.26,0.33,0.36,0.38,0.43,0.47,0.49,0.48,0.45,0.46,0.48,0.49,0.49,0.45,0.39,0.36,0.37,0.41,0.46,0.49,0.49,0.52,0.59,0.63,0.66,0.68,0.72,0.78,0.82,0.82,0.82,0.91,0.86,0.97,1.00,1.05"
    # PhoneGyroY = "0.94,0.95,0.90,0.83,0.82,0.88,1.17,1.18,0.83,1.31,1.41,1.60,1.56,0.95,0.93,1.09,1.04,0.88,0.95,1.19,1.44,1.69,1.88,1.96,1.80,1.39,0.77,0.07,-0.49,-0.83,-1.02,-0.95,-0.65,-0.30,-0.05,0.25,0.66,1.01,1.16,1.19,1.21,1.11,0.91,0.73,0.65,0.73,0.93,1.06,1.01,0.85,0.66,0.53,0.50,0.55,0.66,0.74,0.78,0.83,0.90,0.96,0.99,1.00,0.99,0.98,0.96,1.04,1.12,1.12,1.05,0.93,0.73,0.41,-0.02,-0.49,-0.85,-0.99,-0.88,-0.56,-0.13,0.32,0.74,1.11,1.40,1.58,1.60,1.47,1.23,0.92,0.61,0.33,0.13,-0.01,-0.10,-0.17,-0.10,0.14,0.03,-0.51,-1.17,-1.59,-1.69,-2.15,-2.79,-3.12,-3.28,-3.41,-3.62,-3.87,-4.14,-4.34,-4.37,-4.21,-3.84,-3.20,-2.36,-1.45,-0.66,-0.12,0.20,0.36,0.44,0.55,0.78,1.11,1.46,1.75,1.87,1.94,2.02,2.00,1.96,1.94,1.91,1.79,1.64,1.45,1.09,0.82,0.72,0.65,0.61,0.57,0.42,0.25,0.25,0.33,0.39,0.47,0.51,0.48,0.45,0.47,0.47,0.55,0.71,0.87,1.03,1.19,1.31,1.39,1.43,1.46,1.52,1.52,1.54,1.55,1.45,1.29,1.15,1.01,0.90,0.84,0.84,0.82,0.75,0.67,0.60,0.60,0.64,0.73,0.81,0.84,0.81,0.75,0.68,0.61,0.55,0.52,0.50,0.49,0.49,0.55,0.63,0.69,0.77,0.87,0.94,0.95,0.92,0.88,0.88,0.93,0.98,0.95,0.78,0.31,0.44,0.25,0.22,0.39"
    # PhoneGyroZ = "0.44,0.47,0.50,0.52,0.52,0.53,0.51,0.36,0.36,0.55,0.64,0.99,0.97,0.62,0.43,0.35,0.07,-0.34,-0.68,-0.91,-1.09,-1.17,-1.03,-0.83,-0.82,-0.74,-0.58,-0.40,-0.21,0.01,0.23,0.49,0.54,0.38,0.28,0.27,0.41,0.48,0.43,0.28,0.15,0.03,-0.06,-0.12,-0.13,-0.10,-0.03,-0.07,-0.19,-0.36,-0.51,-0.59,-0.65,-0.68,-0.76,-0.90,-1.09,-1.28,-1.43,-1.54,-1.62,-1.72,-1.85,-2.01,-2.19,-2.33,-2.44,-2.55,-2.65,-2.77,-2.90,-2.97,-2.94,-2.88,-2.85,-2.86,-2.88,-2.91,-2.91,-2.90,-2.86,-2.83,-2.82,-2.80,-2.77,-2.69,-2.55,-2.37,-2.20,-2.02,-1.82,-1.62,-1.44,-1.28,-1.10,-0.82,-0.55,-0.44,-0.46,-0.51,-0.43,-0.30,-0.19,-0.02,0.19,0.37,0.52,0.74,1.04,1.32,1.54,1.68,1.70,1.66,1.63,1.63,1.75,1.89,1.97,1.98,1.98,2.03,2.04,1.98,1.98,1.98,1.82,1.66,1.63,1.67,1.64,1.57,1.48,1.36,1.27,1.27,1.25,1.28,1.33,1.35,1.30,1.21,1.13,1.05,0.95,0.87,0.82,0.79,0.75,0.72,0.67,0.56,0.44,0.39,0.37,0.36,0.32,0.31,0.30,0.30,0.37,0.48,0.55,0.57,0.53,0.44,0.39,0.46,0.58,0.64,0.59,0.52,0.49,0.48,0.51,0.54,0.55,0.55,0.48,0.44,0.49,0.60,0.68,0.71,0.70,0.61,0.50,0.45,0.48,0.52,0.53,0.53,0.50,0.46,0.46,0.52,0.58,0.64,0.71,0.70,0.60,0.49,0.44,0.42,0.36,0.22,0.31,0.17,0.21,0.12"

    # PhoneMagX = "-324.33,-323.80,-323.18,-322.68,-323.25,-323.24,-322.71,-322.03,-322.13,-322.31,-321.41,-321.84,-321.31,-321.24,-321.28,-321.33,-320.08,-320.22,-320.25,-320.13,-319.28,-319.33,-319.52,-319.01,-318.90,-318.04,-317.99,-318.53,-318.18,-318.02,-317.60,-317.20,-317.17,-316.61,-315.82,-316.19,-315.93,-315.70,-315.65,-315.45,-315.14,-315.06,-314.75,-314.67,-314.20,-313.77,-313.36,-312.72,-312.62,-311.97,-311.78,-311.33,-311.08,-311.93,-311.34,-311.15,-312.09,-311.87,-311.70,-311.63,-311.55,-311.65,-312.23,-312.02,-311.70,-311.74,-312.06,-311.93,-312.13,-311.91,-311.40,-311.22,-311.29,-311.13,-310.68,-310.74,-310.36,-310.25,-310.04,-309.79,-309.69,-310.33,-309.83,-309.85,-309.69,-309.75,-309.87,-310.22,-310.16,-310.85,-310.40,-310.78,-311.01,-311.34,-312.02,-312.51,-312.67,-312.86,-313.90,-314.03,-314.34,-314.53,-315.63,-316.13,-316.72,-317.58,-317.83,-319.08,-319.14,-319.99,-320.76,-321.82,-322.92,-323.47,-323.62,-324.32,-324.63,-324.94,-325.56,-325.66,-326.14,-326.35,-326.18,-326.31,-326.92,-326.63,-327.06,-326.62,-327.09,-327.37,-326.73,-327.09,-326.72,-327.24,-327.30,-327.51,-328.10,-328.55,-328.93,-328.31,-329.43,-329.64,-329.78,-329.25,-330.08,-329.88,-330.08,-329.99,-329.32,-329.13,-328.95,-328.74,-328.55,-328.75,-328.49,-328.68,-328.15,-328.45,-327.87,-327.90,-327.56,-327.67,-327.86,-326.87,-327.37,-326.64,-327.24,-327.00,-326.61,-326.28,-326.06,-326.27,-325.89,-325.17,-324.75,-324.80,-324.39,-324.65,-323.74,-323.21,-323.29,-323.47,-322.90,-322.87,-322.46,-322.40,-322.31,-321.87,-321.47,-321.97,-322.28,-321.87,-321.44,-321.35,-321.36,-321.17,-321.17,-320.69,-320.26,-320.18,-320.24,-319.26,-319.90,-319.19,-318.61,-318.49,-318.49,-317.97,-317.61,-317.24"
    # PhoneMagY = "-99.78,-100.10,-101.19,-101.13,-101.44,-101.56,-102.25,-102.05,-102.55,-102.96,-103.15,-103.40,-103.48,-103.85,-103.76,-104.08,-104.50,-104.43,-104.81,-104.81,-105.03,-105.61,-105.29,-105.59,-105.79,-105.79,-105.94,-106.37,-106.45,-106.66,-106.50,-106.34,-106.86,-107.16,-106.87,-107.35,-107.89,-107.96,-107.76,-108.43,-108.60,-108.98,-108.97,-109.29,-109.31,-109.59,-109.68,-110.02,-110.02,-110.40,-110.66,-110.80,-111.01,-110.84,-110.81,-110.84,-110.48,-110.80,-110.41,-110.28,-110.31,-110.24,-110.56,-110.66,-110.34,-110.78,-111.05,-111.12,-111.38,-111.62,-111.72,-111.76,-112.28,-112.59,-112.61,-112.76,-112.90,-112.66,-112.83,-112.86,-112.68,-113.26,-112.79,-113.00,-113.26,-113.28,-113.15,-113.23,-113.51,-113.27,-112.92,-113.06,-112.71,-112.34,-112.04,-111.72,-111.63,-111.26,-110.98,-110.25,-109.88,-109.23,-108.59,-108.27,-107.24,-106.39,-105.69,-104.82,-103.87,-102.80,-101.40,-100.76,-100.01,-98.69,-97.63,-96.61,-95.74,-94.54,-93.30,-92.37,-91.33,-90.11,-88.86,-88.10,-86.84,-85.51,-84.81,-83.53,-82.65,-81.50,-80.78,-79.95,-79.36,-78.38,-77.97,-76.93,-76.44,-75.95,-75.20,-74.84,-74.42,-74.24,-74.38,-74.49,-74.93,-75.17,-75.71,-76.72,-77.66,-78.43,-79.71,-80.61,-81.50,-82.35,-83.51,-84.89,-85.71,-86.92,-87.68,-88.87,-89.71,-90.49,-91.59,-92.25,-93.17,-93.77,-94.62,-95.09,-95.92,-96.76,-97.28,-97.66,-97.64,-98.62,-99.24,-99.74,-100.61,-100.75,-101.17,-101.50,-101.54,-102.36,-102.28,-102.70,-102.80,-103.51,-103.62,-103.80,-104.08,-104.00,-104.43,-104.41,-104.68,-104.66,-105.15,-105.21,-104.96,-105.44,-105.68,-105.80,-106.20,-106.39,-106.31,-106.69,-106.89,-106.87,-106.98,-107.32,-107.69,-107.72"
    # PhoneMagZ = "-95.88,-95.34,-94.91,-94.89,-94.76,-94.83,-94.65,-94.06,-93.86,-93.63,-93.46,-93.67,-93.58,-93.04,-92.45,-92.33,-91.96,-92.03,-91.18,-91.17,-90.81,-90.32,-90.22,-89.93,-89.67,-89.08,-89.01,-89.05,-88.96,-88.59,-88.61,-88.78,-88.87,-88.33,-88.41,-88.49,-88.13,-88.32,-88.40,-87.88,-88.04,-87.86,-88.03,-87.82,-87.34,-87.00,-87.16,-86.82,-86.24,-86.32,-86.74,-86.18,-86.43,-86.75,-86.63,-86.78,-86.32,-86.32,-86.27,-86.13,-86.18,-85.67,-86.11,-86.42,-86.91,-87.28,-88.15,-88.08,-88.90,-89.38,-89.85,-89.94,-90.08,-90.14,-90.14,-90.10,-89.73,-89.78,-89.68,-90.05,-89.78,-89.98,-89.90,-89.76,-89.95,-89.95,-90.51,-90.32,-90.13,-90.62,-90.61,-90.82,-90.96,-91.25,-91.39,-91.32,-91.24,-91.51,-91.51,-90.98,-91.47,-91.49,-91.58,-91.29,-91.02,-90.97,-90.56,-90.66,-90.36,-90.42,-90.61,-91.44,-91.56,-91.60,-91.83,-91.90,-91.41,-90.86,-90.35,-89.71,-88.89,-88.05,-87.41,-86.75,-86.63,-86.33,-85.76,-85.88,-85.92,-85.87,-85.51,-85.71,-85.44,-85.51,-85.62,-86.23,-87.22,-88.04,-88.95,-90.61,-92.05,-93.87,-95.56,-96.96,-99.28,-101.14,-103.50,-105.18,-107.12,-108.75,-109.79,-110.77,-111.30,-111.59,-111.31,-111.48,-111.21,-110.63,-110.66,-110.23,-109.49,-108.77,-108.02,-106.91,-106.00,-105.02,-104.50,-103.52,-103.08,-102.15,-100.90,-100.41,-99.88,-99.22,-98.77,-97.91,-97.90,-97.65,-97.07,-96.79,-96.45,-96.42,-96.28,-96.04,-95.83,-95.74,-95.56,-95.57,-95.29,-95.37,-95.25,-95.49,-95.01,-94.85,-94.34,-94.16,-93.56,-93.59,-93.27,-92.62,-92.14,-91.63,-91.32,-90.78,-90.38,-89.96,-89.80,-89.44,-89.26,-88.85"

    # WatchAccelX = "-0.91,-0.92,-0.93,-0.94,-0.93,-0.93,-0.94,-0.96,-0.98,-1.01,-1.03,-1.05,-1.06,-1.06,-1.04,-1.01,-0.98,-0.94,-0.91,-0.88,-0.85,-0.84,-0.84,-0.85,-0.87,-0.90,-0.92,-0.93,-0.94,-0.94,-0.94,-0.94,-0.93,-0.93,-0.92,-0.91,-0.91,-0.91,-0.91,-0.90,-0.90,-0.89,-0.87,-0.87,-0.89,-0.91,-0.93,-0.94,-0.95,-0.95,-0.95,-0.95,-0.94,-0.93,-0.92,-0.90,-0.89,-0.88,-0.87,-0.86,-0.87,-0.88,-0.89,-0.90,-0.91,-0.94,-0.95,-0.96,-0.97,-0.97,-0.97,-0.96,-0.96,-0.96,-0.95,-0.94,-0.92,-0.90,-0.87,-0.85,-0.84,-0.85,-0.87,-0.90,-0.93,-0.95,-0.97,-0.99,-1.00,-0.99,-0.98,-0.96,-0.95,-0.92,-0.90,-0.88,-0.86,-0.86,-0.85,-0.86,-0.86,-0.86,-0.87,-0.88,-0.89,-0.92,-0.95,-0.97,-0.98,-0.98,-0.99,-0.99,-0.97,-0.95,-0.92,-0.89,-0.87,-0.86,-0.84,-0.83,-0.82,-0.81,-0.80,-0.80,-0.81,-0.82,-0.85,-0.87,-0.89,-0.90,-0.92,-0.93,-0.94,-0.95,-0.94,-0.93,-0.91,-0.90,-0.90,-0.89,-0.89,-0.89,-0.89,-0.90,-0.90,-0.90,-0.89,-0.88,-0.87,-0.87,-0.86,-0.86,-0.87,-0.88,-0.90,-0.92,-0.94,-0.94,-0.93,-0.92,-0.92,-0.93,-0.93,-0.94,-0.95,-0.94,-0.93,-0.92,-0.91,-0.91,-0.91,-0.91,-0.92,-0.94,-0.95,-0.96,-0.96,-0.95,-0.94,-0.93,-0.93,-0.92,-0.92,-0.91,-0.91,-0.90,-0.90,-0.91,-0.91,-0.91,-0.89,-0.87,-0.86,-0.84,-0.82,-0.80,-0.78,-0.79,-0.80,-0.82,-0.88,-0.95,-1.05,-1.15,-1.23,-1.25,-1.23,-1.16,-1.09,-1.01"
    # WatchAccelY = "-0.31,-0.31,-0.32,-0.33,-0.33,-0.35,-0.36,-0.37,-0.37,-0.37,-0.35,-0.34,-0.32,-0.30,-0.29,-0.29,-0.29,-0.30,-0.30,-0.30,-0.31,-0.30,-0.30,-0.29,-0.29,-0.29,-0.29,-0.30,-0.32,-0.34,-0.36,-0.38,-0.40,-0.41,-0.43,-0.44,-0.46,-0.47,-0.48,-0.48,-0.47,-0.45,-0.43,-0.41,-0.38,-0.35,-0.32,-0.31,-0.30,-0.29,-0.30,-0.31,-0.33,-0.35,-0.37,-0.39,-0.41,-0.42,-0.43,-0.44,-0.44,-0.44,-0.43,-0.43,-0.42,-0.41,-0.40,-0.39,-0.38,-0.37,-0.36,-0.36,-0.35,-0.35,-0.35,-0.35,-0.36,-0.37,-0.39,-0.41,-0.41,-0.41,-0.41,-0.40,-0.40,-0.39,-0.38,-0.38,-0.37,-0.38,-0.39,-0.40,-0.41,-0.42,-0.43,-0.44,-0.45,-0.45,-0.45,-0.45,-0.44,-0.43,-0.42,-0.40,-0.39,-0.37,-0.35,-0.34,-0.33,-0.32,-0.32,-0.32,-0.32,-0.33,-0.35,-0.37,-0.39,-0.40,-0.42,-0.43,-0.44,-0.44,-0.44,-0.45,-0.44,-0.44,-0.43,-0.43,-0.42,-0.41,-0.41,-0.41,-0.41,-0.41,-0.42,-0.42,-0.42,-0.43,-0.43,-0.43,-0.43,-0.43,-0.43,-0.43,-0.42,-0.42,-0.42,-0.42,-0.43,-0.43,-0.43,-0.43,-0.43,-0.42,-0.41,-0.40,-0.39,-0.38,-0.38,-0.38,-0.39,-0.38,-0.38,-0.37,-0.37,-0.36,-0.35,-0.35,-0.35,-0.35,-0.34,-0.34,-0.34,-0.33,-0.32,-0.31,-0.31,-0.30,-0.30,-0.30,-0.29,-0.29,-0.29,-0.29,-0.28,-0.27,-0.27,-0.27,-0.28,-0.28,-0.29,-0.30,-0.31,-0.33,-0.35,-0.38,-0.42,-0.46,-0.50,-0.55,-0.58,-0.58,-0.55,-0.50,-0.46,-0.41,-0.39,-0.37,-0.37,-0.37"
    # WatchAccelZ = "0.19,0.19,0.19,0.19,0.19,0.19,0.18,0.17,0.16,0.16,0.16,0.15,0.15,0.13,0.12,0.11,0.10,0.09,0.08,0.07,0.07,0.07,0.07,0.08,0.09,0.11,0.12,0.13,0.14,0.14,0.14,0.15,0.15,0.15,0.15,0.15,0.14,0.13,0.12,0.10,0.09,0.09,0.09,0.11,0.12,0.12,0.14,0.15,0.16,0.17,0.20,0.22,0.22,0.22,0.21,0.20,0.20,0.20,0.20,0.19,0.19,0.19,0.19,0.20,0.21,0.21,0.21,0.22,0.23,0.23,0.23,0.22,0.21,0.19,0.18,0.15,0.13,0.12,0.11,0.10,0.09,0.08,0.07,0.07,0.06,0.06,0.06,0.05,0.04,0.05,0.05,0.06,0.06,0.07,0.08,0.09,0.10,0.10,0.11,0.12,0.13,0.13,0.14,0.15,0.16,0.16,0.16,0.16,0.16,0.16,0.16,0.16,0.16,0.15,0.14,0.12,0.11,0.10,0.09,0.09,0.09,0.09,0.10,0.10,0.11,0.12,0.13,0.13,0.14,0.15,0.15,0.15,0.15,0.14,0.13,0.12,0.11,0.11,0.10,0.10,0.09,0.09,0.09,0.09,0.09,0.08,0.08,0.09,0.08,0.08,0.07,0.07,0.08,0.08,0.09,0.10,0.10,0.11,0.12,0.12,0.12,0.12,0.12,0.11,0.12,0.12,0.13,0.13,0.14,0.13,0.13,0.13,0.13,0.13,0.12,0.11,0.11,0.11,0.11,0.10,0.09,0.08,0.07,0.06,0.05,0.05,0.03,0.02,0.01,-0.00,-0.01,-0.00,0.01,0.03,0.06,0.09,0.11,0.11,0.09,0.08,0.06,0.03,0.01,-0.00,-0.00,0.02,0.05,0.08,0.12,0.14"

    # WatchGyroX = "-0.02,-0.04,-0.05,-0.06,-0.08,-0.10,-0.13,-0.16,-0.20,-0.24,-0.26,-0.28,-0.30,-0.33,-0.36,-0.41,-0.47,-0.53,-0.60,-0.67,-0.75,-0.81,-0.86,-0.89,-0.89,-0.88,-0.86,-0.84,-0.82,-0.80,-0.77,-0.74,-0.71,-0.68,-0.66,-0.65,-0.66,-0.69,-0.75,-0.82,-0.90,-0.98,-1.03,-1.07,-1.12,-1.14,-1.15,-1.14,-1.13,-1.08,-1.02,-0.95,-0.88,-0.83,-0.79,-0.75,-0.72,-0.68,-0.65,-0.63,-0.62,-0.60,-0.58,-0.55,-0.53,-0.49,-0.46,-0.41,-0.35,-0.30,-0.24,-0.19,-0.14,-0.11,-0.08,-0.08,-0.08,-0.09,-0.09,-0.10,-0.12,-0.16,-0.18,-0.20,-0.21,-0.21,-0.22,-0.23,-0.23,-0.23,-0.22,-0.23,-0.23,-0.24,-0.25,-0.26,-0.27,-0.28,-0.30,-0.31,-0.33,-0.33,-0.33,-0.33,-0.32,-0.31,-0.30,-0.28,-0.25,-0.21,-0.17,-0.12,-0.08,-0.06,-0.05,-0.06,-0.08,-0.10,-0.13,-0.16,-0.19,-0.22,-0.24,-0.25,-0.26,-0.26,-0.26,-0.25,-0.23,-0.19,-0.15,-0.12,-0.11,-0.10,-0.10,-0.11,-0.12,-0.13,-0.14,-0.16,-0.18,-0.20,-0.22,-0.23,-0.23,-0.23,-0.23,-0.24,-0.26,-0.29,-0.33,-0.37,-0.39,-0.42,-0.44,-0.45,-0.46,-0.46,-0.46,-0.47,-0.48,-0.51,-0.53,-0.55,-0.56,-0.56,-0.56,-0.56,-0.56,-0.57,-0.58,-0.60,-0.61,-0.63,-0.65,-0.67,-0.68,-0.69,-0.70,-0.72,-0.76,-0.79,-0.83,-0.86,-0.88,-0.90,-0.93,-0.96,-0.98,-1.00,-1.01,-0.99,-0.92,-0.81,-0.66,-0.49,-0.32,-0.19,-0.10,-0.06,-0.06,-0.09,-0.11,-0.12,-0.09,-0.04,0.03,0.13,0.20,0.25"
    # WatchGyroY = "-0.18,-0.24,-0.28,-0.30,-0.32,-0.34,-0.37,-0.40,-0.43,-0.49,-0.54,-0.56,-0.58,-0.56,-0.51,-0.46,-0.42,-0.39,-0.37,-0.37,-0.40,-0.45,-0.51,-0.56,-0.61,-0.65,-0.69,-0.71,-0.71,-0.71,-0.71,-0.71,-0.71,-0.73,-0.75,-0.79,-0.83,-0.83,-0.82,-0.76,-0.68,-0.58,-0.49,-0.42,-0.39,-0.39,-0.40,-0.42,-0.43,-0.43,-0.43,-0.43,-0.43,-0.45,-0.45,-0.46,-0.46,-0.44,-0.42,-0.41,-0.38,-0.36,-0.35,-0.33,-0.32,-0.30,-0.27,-0.24,-0.20,-0.17,-0.15,-0.15,-0.14,-0.15,-0.15,-0.12,-0.08,-0.07,-0.07,-0.09,-0.14,-0.19,-0.26,-0.32,-0.36,-0.37,-0.33,-0.27,-0.20,-0.13,-0.08,-0.04,-0.01,-0.01,-0.01,-0.01,-0.02,-0.03,-0.03,-0.04,-0.04,-0.05,-0.07,-0.08,-0.08,-0.08,-0.08,-0.06,-0.05,-0.02,0.00,0.03,0.04,0.04,0.04,0.03,0.03,0.02,0.01,0.01,0.01,0.02,0.02,-0.01,-0.04,-0.08,-0.11,-0.13,-0.13,-0.14,-0.14,-0.13,-0.11,-0.10,-0.07,-0.05,-0.04,-0.04,-0.05,-0.07,-0.08,-0.10,-0.10,-0.09,-0.08,-0.07,-0.07,-0.08,-0.10,-0.12,-0.15,-0.18,-0.19,-0.19,-0.19,-0.18,-0.16,-0.15,-0.15,-0.16,-0.17,-0.19,-0.21,-0.21,-0.21,-0.20,-0.20,-0.21,-0.24,-0.28,-0.33,-0.38,-0.41,-0.43,-0.42,-0.39,-0.36,-0.34,-0.34,-0.35,-0.39,-0.43,-0.47,-0.50,-0.52,-0.51,-0.49,-0.46,-0.41,-0.34,-0.25,-0.13,-0.01,0.09,0.13,0.10,0.01,-0.14,-0.35,-0.55,-0.71,-0.76,-0.65,-0.41,-0.08,0.31,0.65,0.92,1.11,1.18"
    # WatchGyroZ = "0.22,0.23,0.23,0.22,0.21,0.20,0.18,0.17,0.15,0.12,0.10,0.09,0.09,0.10,0.11,0.12,0.14,0.12,0.09,0.08,0.07,0.08,0.08,0.10,0.11,0.13,0.15,0.19,0.24,0.31,0.37,0.42,0.45,0.47,0.49,0.53,0.59,0.66,0.72,0.76,0.77,0.74,0.68,0.60,0.53,0.47,0.43,0.38,0.32,0.25,0.16,0.06,-0.05,-0.15,-0.27,-0.38,-0.50,-0.59,-0.65,-0.67,-0.66,-0.62,-0.57,-0.51,-0.44,-0.36,-0.28,-0.20,-0.14,-0.07,-0.03,-0.02,-0.04,-0.07,-0.10,-0.11,-0.10,-0.04,0.04,0.11,0.14,0.13,0.10,0.05,0.01,-0.03,-0.05,-0.09,-0.11,-0.10,-0.08,-0.03,0.03,0.09,0.13,0.16,0.17,0.15,0.11,0.04,-0.06,-0.17,-0.27,-0.34,-0.39,-0.41,-0.42,-0.42,-0.40,-0.35,-0.28,-0.21,-0.13,-0.09,-0.08,-0.08,-0.09,-0.10,-0.09,-0.09,-0.08,-0.08,-0.08,-0.09,-0.10,-0.09,-0.08,-0.05,-0.01,0.03,0.06,0.09,0.10,0.11,0.11,0.11,0.13,0.17,0.19,0.20,0.18,0.16,0.15,0.15,0.17,0.21,0.25,0.32,0.38,0.43,0.44,0.45,0.43,0.41,0.37,0.31,0.26,0.22,0.19,0.18,0.19,0.22,0.25,0.28,0.30,0.31,0.32,0.33,0.35,0.36,0.37,0.37,0.37,0.34,0.31,0.26,0.19,0.10,0.02,-0.05,-0.07,-0.06,-0.03,0.01,0.05,0.09,0.12,0.14,0.18,0.20,0.22,0.22,0.20,0.17,0.13,0.10,0.07,0.04,0.01,-0.01,-0.01,-0.01,-0.00,0.02,0.03,0.05,0.08,0.10,0.14,0.18"

    # WatchMagX = "-60.41,-60.40,-60.48,-59.98,-60.11,-60.12,-60.23,-60.24,-60.07,-59.69,-59.96,-59.68,-59.78,-59.55,-59.51,-59.13,-59.29,-59.14,-59.11,-59.02,-59.22,-59.13,-59.07,-59.17,-59.16,-59.21,-59.47,-59.25,-59.20,-59.42,-59.63,-59.48,-59.39,-59.30,-58.87,-58.28,-58.14,-57.74,-57.79,-57.39,-57.36,-57.24,-57.18,-57.30,-56.99,-57.10,-57.17,-57.28,-57.41,-57.48,-57.55,-57.07,-57.44,-57.06,-56.89,-56.99,-57.24,-56.90,-56.75,-56.79,-56.80,-56.91,-57.09,-56.94,-57.09,-56.96,-56.84,-56.95,-56.96,-56.71,-56.93,-56.97,-56.82,-56.31,-56.43,-56.64,-56.27,-56.12,-56.52,-56.06,-56.33,-56.19,-55.99,-56.11,-56.26,-56.10,-56.27,-56.26,-56.34,-56.21,-56.62,-56.73,-56.62,-56.82,-56.81,-56.99,-56.88,-56.87,-57.48,-56.97,-57.32,-57.13,-57.67,-57.43,-57.42,-57.39,-57.84,-57.53,-57.65,-57.75,-58.02,-58.05,-58.29,-58.29,-58.48,-58.62,-58.94,-58.99,-59.30,-59.37,-59.60,-59.69,-59.43,-59.83,-59.81,-59.78,-59.34,-59.61,-59.44,-59.37,-59.53,-59.63,-59.81,-59.90,-59.82,-59.74,-60.14,-60.00,-59.57,-59.99,-59.57,-60.01,-59.93,-60.05,-60.20,-60.06,-59.89,-60.46,-60.15,-60.53,-60.06,-59.88,-60.14,-59.95,-60.12,-60.42,-60.05,-59.90,-60.08,-60.10,-60.10,-60.24,-59.88,-59.93,-60.31,-59.96,-60.26,-60.52,-60.34,-60.62,-60.45,-60.47,-60.44,-60.57,-60.48,-60.41,-60.33,-60.57,-60.45,-60.42,-60.45,-60.65,-60.44,-60.34,-60.17,-60.38,-60.26,-60.42,-60.69,-60.31,-60.52,-60.49,-60.23,-60.25,-60.66,-60.77,-60.46,-60.46,-60.31,-60.20,-60.37,-60.13,-60.42,-60.48,-60.16,-60.44,-60.37,-60.31,-60.43,-60.65"
    # WatchMagY = "54.20,54.13,54.21,54.21,54.02,53.95,54.25,53.97,54.02,54.11,54.02,54.06,54.15,54.30,54.09,54.23,54.30,54.14,54.34,54.09,54.11,54.07,54.10,54.00,53.80,53.69,53.61,53.67,53.64,53.54,53.64,53.48,53.57,53.72,53.56,53.57,53.63,53.48,53.41,53.38,53.25,53.14,52.94,53.01,53.01,52.96,52.85,53.08,52.78,52.80,52.94,53.01,53.00,53.02,53.06,53.09,52.97,52.83,53.03,52.90,52.75,52.67,52.64,52.52,52.37,52.28,52.21,52.36,52.31,52.15,52.21,52.13,52.42,52.37,52.42,52.48,52.70,52.82,52.66,52.79,52.58,52.68,52.72,52.70,52.66,52.80,52.79,52.82,52.86,52.83,52.92,53.00,53.07,53.01,52.97,53.15,53.34,53.22,53.28,53.42,53.29,53.46,53.68,53.73,53.83,53.85,53.99,54.06,54.15,54.25,54.36,54.56,54.41,54.52,54.70,54.64,54.78,54.76,54.79,54.89,54.96,55.03,54.98,54.95,55.04,55.20,55.07,55.35,55.48,55.47,55.37,55.22,55.40,55.53,55.45,55.28,55.35,55.36,55.35,55.41,55.44,55.49,55.46,55.55,55.92,56.13,56.28,56.75,56.97,56.99,57.23,57.19,56.99,57.19,56.84,56.67,56.34,56.26,56.18,56.02,55.82,55.87,55.95,55.95,56.10,56.30,56.37,56.44,56.27,56.15,55.91,55.68,55.47,55.18,55.28,55.09,54.89,54.83,54.84,54.71,54.72,54.65,54.86,54.74,54.74,54.82,54.82,54.79,54.86,54.76,54.62,54.56,54.54,54.49,54.39,54.42,54.22,54.21,54.21,54.27,54.11,54.16,54.27,54.43,54.43,54.50,54.49,54.62,54.79,54.86"
    # WatchMagZ = "172.76,172.87,172.54,172.65,172.67,172.63,172.65,172.75,172.54,172.35,172.02,171.97,171.48,171.19,171.05,171.06,171.16,171.54,171.96,172.48,172.99,173.54,174.02,174.52,174.59,174.87,174.91,174.87,175.10,175.02,175.07,175.21,175.42,176.09,176.49,176.79,177.03,177.50,177.83,177.86,177.80,178.12,178.08,178.07,178.02,178.08,178.14,177.98,178.10,178.43,178.66,178.73,178.96,179.19,179.49,179.69,180.39,180.39,180.81,181.01,180.90,180.86,180.81,180.89,181.00,180.65,180.73,180.74,180.80,180.73,180.76,180.68,180.45,180.57,180.35,180.26,180.15,180.14,179.81,179.61,179.46,179.25,179.21,178.90,178.57,178.49,178.20,178.04,177.76,177.69,177.26,176.96,176.51,176.07,175.81,175.45,175.40,175.00,174.69,174.58,174.65,174.50,174.43,174.30,174.46,174.46,174.47,174.29,174.42,174.03,173.89,173.90,173.49,173.32,173.22,173.05,172.93,172.87,172.83,172.90,173.01,172.82,172.93,172.88,172.88,172.83,172.86,172.94,172.84,172.67,172.59,172.57,172.66,172.53,172.25,172.35,172.28,172.10,172.18,172.06,172.13,172.18,172.00,172.13,172.33,172.28,172.35,172.42,172.43,172.42,172.09,172.11,172.28,172.17,172.37,172.13,172.11,172.08,172.12,172.14,171.92,172.29,172.19,172.01,171.99,172.16,172.24,172.08,172.01,172.00,172.05,172.00,172.01,171.95,171.94,171.92,171.88,171.84,171.96,171.95,171.84,171.71,171.69,171.46,171.37,171.29,171.17,170.99,171.08,171.18,171.07,170.97,170.96,171.06,170.90,170.83,170.78,170.67,170.82,170.68,170.90,170.91,170.76,170.74,170.93,170.91,171.09,170.87,170.71,170.65"

    PhoneAccelX = PhoneAccelX.split(",")
    PhoneAccelY = PhoneAccelY.split(",")
    PhoneAccelZ = PhoneAccelZ.split(",")
    PhoneGyroX = PhoneGyroX.split(",")
    PhoneGyroY = PhoneGyroY.split(",")
    PhoneGyroZ = PhoneGyroZ.split(",")
    PhoneMagX = PhoneMagX.split(",")
    PhoneMagY = PhoneMagY.split(",")
    PhoneMagZ = PhoneMagZ.split(",")
    WatchAccelX = WatchAccelX.split(",")
    WatchAccelY = WatchAccelY.split(",")
    WatchAccelZ = WatchAccelZ.split(",")
    WatchGyroX = WatchGyroX.split(",")
    WatchGyroY = WatchGyroY.split(",")
    WatchGyroZ = WatchGyroZ.split(",")
    WatchMagX = WatchMagX.split(",")
    WatchMagY = WatchMagY.split(",")
    WatchMagZ = WatchMagZ.split(",")

    finalArr = []

    allFeatures = [PhoneAccelX, PhoneAccelY, PhoneAccelZ, PhoneGyroX, PhoneGyroY, PhoneGyroZ, PhoneMagX, PhoneMagY, PhoneMagZ, WatchAccelX, WatchAccelY, WatchAccelZ, WatchGyroX, WatchGyroY, WatchGyroZ, WatchMagX, WatchMagY, WatchMagZ]

    for i in allFeatures:
        # only take hte first 155 readings
        j = 0
        while (j < 155):
            finalArr.append(float(i[j]))
            j += 1

    print(finalArr)


    pred = clf.predict([finalArr])

    # Return the result as a JSON response
    data = {
        "prediction": str(pred[0])
    }
    return jsonify(data)

# Run the app
if __name__ == '__main__':
    app.run(host='0.0.0.0', port=4000)